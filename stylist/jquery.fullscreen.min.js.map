{"version":3,"file":"jquery.fullscreen.min.js","sources":["../src/utils.js","../src/abstract-fullscreen.js","../src/native-fullscreen.js","../src/fallback-fullscreen.js","../src/jquery-fullscreen.js"],"names":["defined","a","extend","child","parent","prototype","F","constructor","_super","$","native","obj","name","prefixed","document","i","SUBST","length","replace","j","VENDOR_PREFIXES","charAt","toUpperCase","substr","ua","navigator","userAgent","fsEnabled","IS_ANDROID_CHROME","indexOf","IS_NATIVELY_SUPPORTED","version","fn","jquery","split","JQ_LT_17","parseInt","FullScreenAbstract","this","__options","_fullScreenElement","__savedStyles","_DEFAULT_OPTIONS","styles","boxSizing","MozBoxSizing","WebkitBoxSizing","toggleClass","__documentOverflow","__htmlOverflow","_preventDocumentScroll","body","style","overflow","documentElement","is","css","_allowDocumentScroll","_fullScreenChange","isFullScreen","_triggerEvents","_revertStyles","_fullScreenError","e","trigger","_saveAndApplyStyles","$elem","property","addClass","removeClass","open","elem","options","exit","isNativelySupported","FullScreenNative","apply","arguments","proxy","width","height","bind","_prefixedString","str","map","s","join","requestFS","call","noop","element","FullScreenFallback","position","zIndex","left","top","bottom","right","__delegateKeydownHandler","__isFullScreen","$doc","delegate","__keydownHandler","data","_data","events","live","unshift","pop","splice","delegateCount","which","offsetHeight","fullscreen"],"mappings":"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","sourcesContent":["\nfunction defined(a) {\n\treturn typeof a !== 'undefined';\n}\n\nfunction extend(child, parent, prototype) {\n    var F = function() {};\n    F.prototype = parent.prototype;\n    child.prototype = new F();\n    child.prototype.constructor = child;\n\tparent.prototype.constructor = parent;\n    child._super = parent.prototype;\n    if (prototype) {\n        $.extend(child.prototype, prototype);\n    }\n}\n\nvar SUBST = [\n    ['', ''],               // spec\n    ['exit', 'cancel'],     // firefox & old webkits expect cancelFullScreen instead of exitFullscreen\n    ['screen', 'Screen']    // firefox expects FullScreen instead of Fullscreen\n];\n\nvar VENDOR_PREFIXES = ['', 'o', 'ms', 'moz', 'webkit', 'webkitCurrent'];\n\nfunction native(obj, name) {\n    var prefixed;\n\n    if (typeof obj === 'string') {\n        name = obj;\n        obj = document;\n    }\n\n    for (var i = 0; i < SUBST.length; ++i) {\n        name = name.replace(SUBST[i][0], SUBST[i][1]);\n        for (var j = 0; j < VENDOR_PREFIXES.length; ++j) {\n            prefixed = VENDOR_PREFIXES[j];\n            prefixed += j === 0 ? name : name.charAt(0).toUpperCase() + name.substr(1);\n            if (defined(obj[prefixed])) {\n                return obj[prefixed];\n            }\n        }\n    }\n\n    return void 0;\n}","var ua = navigator.userAgent;\nvar fsEnabled = native('fullscreenEnabled');\nvar IS_ANDROID_CHROME = ua.indexOf('Android') !== -1 && ua.indexOf('Chrome') !== -1; \nvar IS_NATIVELY_SUPPORTED = \n\t\t!IS_ANDROID_CHROME &&\n\t\t defined(native('fullscreenElement')) && \n\t\t(!defined(fsEnabled) || fsEnabled === true);\n\nvar version = $.fn.jquery.split('.');\nvar JQ_LT_17 = (parseInt(version[0]) < 2 && parseInt(version[1]) < 7);\n\nvar FullScreenAbstract = function() {\n\tthis.__options = null;\n\tthis._fullScreenElement = null;\n\tthis.__savedStyles = {};\n};\n\nFullScreenAbstract.prototype = {\n\t'native': native,\n\t_DEFAULT_OPTIONS: {\n\t\tstyles: {\n\t\t\t'boxSizing': 'border-box',\n\t\t\t'MozBoxSizing': 'border-box',\n\t\t\t'WebkitBoxSizing': 'border-box'\n\t\t},\n\t\ttoggleClass: null\n\t},\n\t__documentOverflow: '',\n\t__htmlOverflow: '',\n\t_preventDocumentScroll: function() {\n\t\tthis.__documentOverflow = document.body.style.overflow;\n\t\tthis.__htmlOverflow = document.documentElement.style.overflow;\n\t\tif(!$(this._fullScreenElement).is('body, html')){\n\t\t\t$('body, html').css('overflow', 'hidden');\n\t\t}\n\t},\n\t_allowDocumentScroll: function() {\n\t\tdocument.body.style.overflow = this.__documentOverflow;\n\t\tdocument.documentElement.style.overflow = this.__htmlOverflow;\n\t},\n\t_fullScreenChange: function() {\n\t\tif (!this.__options) {\n\t\t\treturn; // only process fullscreenchange events caused by this plugin\n\t\t}\n\t\tif (!this.isFullScreen()) {\n\t\t\tthis._allowDocumentScroll();\n\t\t\tthis._revertStyles();\n\t\t\tthis._triggerEvents();\n\t\t\tthis._fullScreenElement = null;\n\t\t} else {\n\t\t\tthis._preventDocumentScroll();\n\t\t\tthis._triggerEvents();\n\t\t}\n\t},\n\t_fullScreenError: function(e) {\n\t\tif (!this.__options) {\n\t\t\treturn; // only process fullscreenchange events caused by this plugin\n\t\t}\n\t\tthis._revertStyles();\n\t\tthis._fullScreenElement = null;\n\t\tif (e) {\n\t\t\t$(document).trigger('fscreenerror', [e]);\n\t\t}\n\t},\n\t_triggerEvents: function() {\n\t\t$(this._fullScreenElement).trigger(this.isFullScreen() ? 'fscreenopen' : 'fscreenclose');\n\t\t$(document).trigger('fscreenchange', [this.isFullScreen(), this._fullScreenElement]);\n\t},\n\t_saveAndApplyStyles: function() {\n\t\tvar $elem = $(this._fullScreenElement);\n\t\tthis.__savedStyles = {};\n\t\tfor (var property in this.__options.styles) {\n\t\t\t// save\n\t\t\tthis.__savedStyles[property] = this._fullScreenElement.style[property];\n\t\t\t// apply\n\t\t\tthis._fullScreenElement.style[property] = this.__options.styles[property];\n\t\t}\n\t\tif ($elem.is('body')) {\n\t\t\t// in order to manipulate scrollbar of BODY in Chrome/OPR\n\t\t\t// you have to change 'overflow' property HTML element\n\t\t\tdocument.documentElement.style.overflow = this.__options.styles.overflow;\n\t\t}\n\t\tif (this.__options.toggleClass) {\n\t\t\t$elem.addClass(this.__options.toggleClass);\n\t\t}\n\t},\n\t_revertStyles: function() {\n\t\tvar $elem = $(this._fullScreenElement);\n\t\tfor (var property in this.__options.styles) {\n\t\t\tthis._fullScreenElement.style[property] = this.__savedStyles[property];\n\t\t}\n\t\tif ($elem.is('body')) {\n\t\t\t// in order to manipulate scrollbar of BODY in Chrome/OPR\n\t\t\t// you have to change 'overflow' property HTML element\n\t\t\tdocument.documentElement.style.overflow = this.__savedStyles.overflow;\n\t\t}\n\t\tif (this.__options.toggleClass) {\n\t\t\t$elem.removeClass(this.__options.toggleClass);\n\t\t}\n\t},\n\topen: function(elem, options) {\n\t\t// do nothing if request is for already fullscreened element\n\t\tif (elem === this._fullScreenElement) {\n\t\t\treturn;\n\t\t}\n\t\t// exit active fullscreen before opening another one\n\t\tif (this.isFullScreen()) {\n\t\t\tthis.exit();\n\t\t}\n\t\t// save fullscreened element\n\t\tthis._fullScreenElement = elem;\n\t\t// apply options, if any\n\t\tthis.__options = $.extend(true, {}, this._DEFAULT_OPTIONS, options);\n\t\t// save current element styles and apply new\n\t\tthis._saveAndApplyStyles();\n\t},\n\texit: null,\n\tisFullScreen: null,\n\tisNativelySupported: function() {\n\t\treturn IS_NATIVELY_SUPPORTED;\n\t}\n};\n","var FullScreenNative = function() {\n\tFullScreenNative._super.constructor.apply(this, arguments);\n\tthis.exit = $.proxy(native('exitFullscreen'), document);\n\tthis._DEFAULT_OPTIONS = $.extend(true, {}, this._DEFAULT_OPTIONS, {\n\t\t'styles': {\n\t\t\t'width': '100%',\n\t\t\t'height': '100%'\n\t\t}\n\t});\n\t$(document)\n\t\t.bind(this._prefixedString('fullscreenchange') + ' MSFullscreenChange', $.proxy(this._fullScreenChange, this))\n\t\t.bind(this._prefixedString('fullscreenerror') + ' MSFullscreenError', $.proxy(this._fullScreenError, this));\n};\n\nextend(FullScreenNative, FullScreenAbstract, {\n\tVENDOR_PREFIXES: ['', 'o', 'moz', 'webkit'],\n\t_prefixedString: function(str) {\n\t\treturn $.map(this.VENDOR_PREFIXES, function(s) {\n\t\t\treturn s + str;\n\t\t}).join(' ');\n\t},\n\topen: function(elem, options) {\n\t\tFullScreenNative._super.open.apply(this, arguments);\n\t\tvar requestFS = native(elem, 'requestFullscreen');\n\t\trequestFS.call(elem);\n\t},\n\texit: $.noop,\n\tisFullScreen: function() {\n\t\treturn native('fullscreenElement') !== null;\n\t},\n\telement: function() {\n\t\treturn native('fullscreenElement');\n\t}\n});\n","var FullScreenFallback = function() {\n\tFullScreenFallback._super.constructor.apply(this, arguments);\n\tthis._DEFAULT_OPTIONS = $.extend({}, this._DEFAULT_OPTIONS, {\n\t\t'styles': {\n\t\t\t'position': 'absolute',\n\t\t\t'zIndex': '2147483647',\n\t\t\t'left': 0,\n\t\t\t'top': 0,\n\t\t\t'bottom': 0,\n\t\t\t'right': 0\n\t\t}\n\t});\n\tthis.__delegateKeydownHandler();\n};\n\nextend(FullScreenFallback, FullScreenAbstract, {\n\t__isFullScreen: false,\n\t__delegateKeydownHandler: function() {\n\t\tvar $doc = $(document);\n\t\t$doc.delegate('*', 'keydown.fullscreen', $.proxy(this.__keydownHandler, this));\n\t\tvar data = JQ_LT_17 ? $doc.data('events') : $._data(document).events;\n\t\tvar events = data['keydown'];\n\t\tif (!JQ_LT_17) {\n\t\t\tevents.splice(0, 0, events.splice(events.delegateCount - 1, 1)[0]);\n\t\t} else {\n\t\t\tdata.live.unshift(data.live.pop());\n\t\t}\n\t},\n\t__keydownHandler: function(e) {\n\t\tif (this.isFullScreen() && e.which === 27) {\n\t\t\tthis.exit();\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\t_revertStyles: function() {\n\t\tFullScreenFallback._super._revertStyles.apply(this, arguments);\n\t\t// force redraw (fixes bug in IE7 with content dissapearing)\n\t\tthis._fullScreenElement.offsetHeight;\n\t},\n\topen: function(elem) {\n\t\tFullScreenFallback._super.open.apply(this, arguments);\n\t\tthis.__isFullScreen = true;\n\t\tthis._fullScreenChange();\n\t},\n\texit: function() {\n\t\tif (!this.__isFullScreen) {\n\t\t\treturn;\n\t\t}\n\t\tthis.__isFullScreen = false;\n\t\tthis._fullScreenChange();\n\t},\n\tisFullScreen: function() {\n\t\treturn this.__isFullScreen;\n\t},\n\telement: function() {\n\t\treturn this.__isFullScreen ? this._fullScreenElement : null;\n\t}\n});","$.fullscreen = IS_NATIVELY_SUPPORTED \n\t\t\t\t? new FullScreenNative() \n\t\t\t\t: new FullScreenFallback();\n\n$.fn.fullscreen = function(options) {\n\tvar elem = this[0];\n\n\toptions = $.extend({\n\t\ttoggleClass: null,\n\t\toverflow: 'hidden'\n\t}, options);\n\toptions.styles = {\n\t\toverflow: options.overflow\n\t};\n\tdelete options.overflow;\n\n\tif (elem) {\n\t\t$.fullscreen.open(elem, options);\n\t}\n\n\treturn this;\n};\n"]}